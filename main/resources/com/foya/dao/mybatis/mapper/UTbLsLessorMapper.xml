<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.foya.dao.mybatis.mapper.UTbLsLessorMapper">
  <resultMap id="BaseResultMap" type="com.foya.dao.mybatis.model.TbLsLessor">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 19 14:51:02 CST 2015.
    -->
    <id column="LS_NO" jdbcType="VARCHAR" property="LS_NO" />
    <id column="LESSOR_ID" jdbcType="VARCHAR" property="LESSOR_ID" />
    <id column="LS_VER" jdbcType="VARCHAR" property="LS_VER" />
    <result column="LESSOR_NAME" jdbcType="VARCHAR" property="LESSOR_NAME" />
    <result column="LESSOR_TYPE" jdbcType="VARCHAR" property="LESSOR_TYPE" />
    <result column="OWNER_ID" jdbcType="VARCHAR" property="OWNER_ID" />
    <result column="OWNER_NAME" jdbcType="VARCHAR" property="OWNER_NAME" />
    <result column="OWNER_NBR" jdbcType="VARCHAR" property="OWNER_NBR" />
    <result column="OWNER_ADDR" jdbcType="VARCHAR" property="OWNER_ADDR" />
    <result column="OWNER_ADDR_STD" jdbcType="VARCHAR" property="OWNER_ADDR_STD" />
    <result column="VOUCHER_TYPE" jdbcType="VARCHAR" property="VOUCHER_TYPE" />
    <result column="HOUSE_TAX_NO" jdbcType="VARCHAR" property="HOUSE_TAX_NO" />
    <result column="INCOME_TAX" jdbcType="VARCHAR" property="INCOME_TAX" />
    <result column="PAYMENT_MODE" jdbcType="VARCHAR" property="PAYMENT_MODE" />
    <result column="BUSINESS_TAX" jdbcType="DECIMAL" property="BUSINESS_TAX" />
    <result column="PER_MONTH" jdbcType="VARCHAR" property="PER_MONTH" />
    <result column="OWNER_RELATION" jdbcType="VARCHAR" property="OWNER_RELATION" />
    <result column="RESIDENCE_ADD" jdbcType="VARCHAR" property="RESIDENCE_ADD" />
    <result column="RESIDENCE_ADD_STD" jdbcType="VARCHAR" property="RESIDENCE_ADD_STD" />
    <result column="CTACT_NAME" jdbcType="VARCHAR" property="CTACT_NAME" />
    <result column="CTACT_NBR" jdbcType="VARCHAR" property="CTACT_NBR" />
    <result column="CTACT_ADDR" jdbcType="VARCHAR" property="CTACT_ADDR" />
    <result column="CTACT_ADDR_STD" jdbcType="VARCHAR" property="CTACT_ADDR_STD" />
    <result column="TAX_ADDR_SET" jdbcType="VARCHAR" property="TAX_ADDR_SET" />
    <result column="DOC_ADDR" jdbcType="VARCHAR" property="DOC_ADDR" />
    <result column="DOC_ADDR_STD" jdbcType="VARCHAR" property="DOC_ADDR_STD" />
    <result column="CR_USER" jdbcType="VARCHAR" property="CR_USER" />
    <result column="CR_TIME" jdbcType="TIMESTAMP" property="CR_TIME" />
    <result column="MD_USER" jdbcType="VARCHAR" property="MD_USER" />
    <result column="MD_TIME" jdbcType="TIMESTAMP" property="MD_TIME" />
    <result column="CHG_RESN" jdbcType="VARCHAR" property="CHG_RESN" />
    <result column="CHG_DESC" jdbcType="VARCHAR" property="CHG_DESC" />
    <result column="SEAL_CHG_DATE" jdbcType="TIMESTAMP" property="SEAL_CHG_DATE" />
    <result column="PLDG_PT" jdbcType="VARCHAR" property="PLDG_PT" />
    <result column="TAX_YEAR_B" jdbcType="DECIMAL" property="TAX_YEAR_B" />
    <result column="TAX_YEAR_E" jdbcType="DECIMAL" property="TAX_YEAR_E" />
    <result column="TAX_AMT" jdbcType="DECIMAL" property="TAX_AMT" />
    <result column="DEDUCT_DATE" jdbcType="DECIMAL" property="DEDUCT_DATE" />
    <result column="PAY_TAX" jdbcType="DECIMAL" property="PAY_TAX" />
    <result column="PRINTAMR" jdbcType="VARCHAR" property="PRINTAMR" />
  </resultMap>
  
  <resultMap id="lessorChDTOResult" type="com.foya.noms.dto.ls.LessorChDTO">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 19 14:51:02 CST 2015.
    -->
    <id column="LS_NO" jdbcType="VARCHAR" property="LS_NO" />
    <id column="LESSOR_ID" jdbcType="VARCHAR" property="LESSOR_ID" />
    <id column="LS_VER" jdbcType="VARCHAR" property="LS_VER" />
    <result column="LESSOR_NAME" jdbcType="VARCHAR" property="LESSOR_NAME" />
    <result column="LESSOR_TYPE" jdbcType="VARCHAR" property="LESSOR_TYPE" />
    <result column="OWNER_ID" jdbcType="VARCHAR" property="OWNER_ID" />
    <result column="OWNER_NAME" jdbcType="VARCHAR" property="OWNER_NAME" />
    <result column="OWNER_NBR" jdbcType="VARCHAR" property="OWNER_NBR" />
    <result column="OWNER_ADDR" jdbcType="VARCHAR" property="OWNER_ADDR" />
    <result column="OWNER_ADDR_STD" jdbcType="VARCHAR" property="OWNER_ADDR_STD" />
    <result column="VOUCHER_TYPE" jdbcType="VARCHAR" property="VOUCHER_TYPE" />
    <result column="HOUSE_TAX_NO" jdbcType="VARCHAR" property="HOUSE_TAX_NO" />
    <result column="INCOME_TAX" jdbcType="VARCHAR" property="INCOME_TAX" />
    <result column="PAYMENT_MODE" jdbcType="VARCHAR" property="PAYMENT_MODE" />
    <result column="BUSINESS_TAX" jdbcType="DECIMAL" property="BUSINESS_TAX" />
    <result column="PER_MONTH" jdbcType="VARCHAR" property="PER_MONTH" />
    <result column="OWNER_RELATION" jdbcType="VARCHAR" property="OWNER_RELATION" />
    <result column="RESIDENCE_ADD" jdbcType="VARCHAR" property="RESIDENCE_ADD" />
    <result column="RESIDENCE_ADD_STD" jdbcType="VARCHAR" property="RESIDENCE_ADD_STD" />
    <result column="CTACT_NAME" jdbcType="VARCHAR" property="CTACT_NAME" />
    <result column="CTACT_NBR" jdbcType="VARCHAR" property="CTACT_NBR" />
    <result column="CTACT_ADDR" jdbcType="VARCHAR" property="CTACT_ADDR" />
    <result column="CTACT_ADDR_STD" jdbcType="VARCHAR" property="CTACT_ADDR_STD" />
    <result column="TAX_ADDR_SET" jdbcType="VARCHAR" property="TAX_ADDR_SET" />
    <result column="DOC_ADDR" jdbcType="VARCHAR" property="DOC_ADDR" />
    <result column="DOC_ADDR_STD" jdbcType="VARCHAR" property="DOC_ADDR_STD" />
    <result column="CR_USER" jdbcType="VARCHAR" property="CR_USER" />
    <result column="CR_TIME" jdbcType="TIMESTAMP" property="CR_TIME" />
    <result column="MD_USER" jdbcType="VARCHAR" property="MD_USER" />
    <result column="MD_TIME" jdbcType="TIMESTAMP" property="MD_TIME" />
    <result column="CHG_RESN" jdbcType="VARCHAR" property="CHG_RESN" />
    <result column="CHG_DESC" jdbcType="VARCHAR" property="CHG_DESC" />
    <result column="SEAL_CHG_DATE" jdbcType="TIMESTAMP" property="SEAL_CHG_DATE" />
    <result column="PLDG_PT" jdbcType="VARCHAR" property="PLDG_PT" />
    <result column="TAX_YEAR_B" jdbcType="DECIMAL" property="TAX_YEAR_B" />
    <result column="TAX_YEAR_E" jdbcType="DECIMAL" property="TAX_YEAR_E" />
    <result column="TAX_AMT" jdbcType="DECIMAL" property="TAX_AMT" />
    <result column="DEDUCT_DATE" jdbcType="DECIMAL" property="DEDUCT_DATE" />
    <result column="PAY_TAX" jdbcType="DECIMAL" property="PAY_TAX" />
    <result column="PRINTAMR" jdbcType="VARCHAR" property="PRINTAMR" />
  </resultMap>
  
  <select id="searchLsLessorByNoVer" resultMap="BaseResultMap"
		parameterType="String">
		SELECT  
    LS_NO, LESSOR_ID, LS_VER, LESSOR_NAME, LESSOR_TYPE, OWNER_ID, OWNER_NAME, OWNER_NBR, 
    OWNER_ADDR, OWNER_ADDR_STD, VOUCHER_TYPE, HOUSE_TAX_NO, INCOME_TAX, PAYMENT_MODE, 
    BUSINESS_TAX, PER_MONTH, OWNER_RELATION, RESIDENCE_ADD, RESIDENCE_ADD_STD, CTACT_NAME, 
    CTACT_NBR, CTACT_ADDR, CTACT_ADDR_STD, TAX_ADDR_SET, DOC_ADDR, DOC_ADDR_STD, CR_USER, 
    CR_TIME, MD_USER, MD_TIME, CHG_RESN, CHG_DESC, SEAL_CHG_DATE, PLDG_PT, TAX_YEAR_B, 
    TAX_YEAR_E, TAX_AMT, DEDUCT_DATE, PAY_TAX, PRINTAMR
		FROM TB_LS_LESSOR
		WHERE LS_NO=#{lsNo}
		<choose>
		    <when test="lsVer != null and lsVer != ''">
		      and LS_VER =#{lsVer} 
		    </when>
		    <otherwise>
			 and LS_VER=(SELECT MAX(CONVERT(INT, LS_VER)) FROM TB_LS_LESSOR WHERE LS_NO=#{lsNo})
		    </otherwise>
		</choose>
		
	
	</select>
	
	
	
	<select id="serarchLsLessorBylsNoLessorId" parameterType="hashmap" resultMap="lessorChDTOResult">
    SELECT  
    LS_NO, LESSOR_ID, LS_VER, LESSOR_NAME, LESSOR_TYPE, OWNER_ID, OWNER_NAME, OWNER_NBR, 
    OWNER_ADDR, OWNER_ADDR_STD, VOUCHER_TYPE, HOUSE_TAX_NO, INCOME_TAX, PAYMENT_MODE, 
    BUSINESS_TAX, PER_MONTH, OWNER_RELATION, RESIDENCE_ADD, RESIDENCE_ADD_STD, CTACT_NAME, 
    CTACT_NBR, CTACT_ADDR, CTACT_ADDR_STD, TAX_ADDR_SET, DOC_ADDR, DOC_ADDR_STD, CR_USER, 
    CR_TIME, MD_USER, MD_TIME, CHG_RESN, CHG_DESC, SEAL_CHG_DATE, PLDG_PT, TAX_YEAR_B, 
    TAX_YEAR_E, TAX_AMT, DEDUCT_DATE, PAY_TAX, PRINTAMR
		FROM TB_LS_LESSOR
	WHERE LS_NO=#{lsNo}
	AND LS_VER=#{lsVer}
	AND LESSOR_ID=#{lessorId}
  </select>
  
 
	 <select id="searchLsLessorAddedByAppSeq" resultMap="BaseResultMap" parameterType="String">
			SELECT  *  FROM TB_LS_LESSOR_ADDED WHERE app_seq=#{appSeq}
		</select> 
		
		
</mapper>